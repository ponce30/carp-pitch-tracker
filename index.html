<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Analyzer">
<meta name="theme-color" content="#0A0A0A">
<title>Analyzer 簡易入力システム</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&family=Oswald:wght@500;700&display=swap');
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
:root{--red:#C4171C;--dk:#8B0000;--acc:#FF3333;--bg:#0A0A0A;--c1:#161616;--c2:#1E1E1E;--tx:#EEE;--dim:#777;--strike:#FFD700;--ball:#4488FF;--out:#FF3333;--green:#22CC66;--foul:#BB66FF;--iku:#D4A017;--del:#E53935;--edit:#2196F3}
body{font-family:'Noto Sans JP',sans-serif;background:var(--bg);color:var(--tx);min-height:100vh;min-height:100dvh;overflow:hidden;user-select:none;-webkit-user-select:none}
.hd{background:linear-gradient(135deg,#1a1a2e,#16213e);padding:8px 16px;display:flex;align-items:center;justify-content:center;gap:12px;box-shadow:0 2px 12px rgba(0,0,0,.5)}
.hd-t{font-family:Oswald,sans-serif;font-size:18px;font-weight:700;letter-spacing:2px;color:#fff}
.hd-d{font-size:11px;color:rgba(255,255,255,.5);text-align:center}
.team-sel-bar{background:var(--c1);padding:6px 12px;display:flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap;border-bottom:1px solid #333}
.team-sel-bar label{font-size:11px;color:var(--dim);font-weight:700}
.team-sel-bar select{background:var(--c2);color:#fff;border:1px solid #555;border-radius:6px;padding:4px 8px;font-size:13px;font-weight:700;font-family:'Noto Sans JP',sans-serif;cursor:pointer}
.team-sel-bar select:focus{outline:none;border-color:var(--acc)}
.inning-sel{background:var(--c2);color:var(--strike);border:2px solid var(--strike);border-radius:6px;padding:4px 8px;font-size:14px;font-weight:900;font-family:'Noto Sans JP',sans-serif;cursor:pointer}
.inning-sel:focus{outline:none;border-color:#fff}
.main{display:grid;grid-template-columns:240px 1fr 260px;gap:8px;padding:8px;height:calc(100vh - 84px);height:calc(100dvh - 84px)}
.pnl{background:var(--c1);border-radius:10px;padding:8px;overflow-y:auto}
.pnl-t{font-family:Oswald,sans-serif;font-size:11px;font-weight:700;color:var(--acc);margin-bottom:4px;letter-spacing:1px}
.pnl-t2{font-size:10px;font-weight:700;color:var(--iku);margin:4px 0 3px;letter-spacing:1px}
.pg{display:grid;grid-template-columns:1fr 1fr;gap:3px}
.pb{background:var(--c2);border:2px solid transparent;border-radius:8px;padding:8px 3px;color:var(--tx);font-size:12px;font-weight:700;cursor:pointer;text-align:center;min-height:42px;display:flex;align-items:center;justify-content:center;gap:3px;transition:all .12s}
.pb:active{transform:scale(.95)}.pb.sel{border-color:var(--acc);background:rgba(196,23,28,.2);color:#fff}
.pb.iku{border-color:#555;color:#ccc}.pb.iku.sel{border-color:var(--iku);background:rgba(212,160,23,.15);color:var(--iku)}
.pb .n{font-family:Oswald,sans-serif;font-size:10px;color:var(--dim);min-width:20px}
.ctr{display:flex;flex-direction:column;gap:6px;overflow-y:auto}
.st{background:var(--c1);border-radius:10px;padding:8px 12px;display:flex;align-items:center;justify-content:space-between}
.st-r{font-size:9px;color:var(--dim);letter-spacing:1px;text-transform:uppercase}.st-n{font-size:16px;font-weight:900;color:#fff}.st-v{font-family:Oswald,sans-serif;font-size:14px;color:var(--acc);font-weight:700}
.cnt{background:var(--c1);border-radius:10px;padding:8px 12px;display:flex;align-items:center;justify-content:center;gap:14px}
.cnt-g{display:flex;align-items:center;gap:6px}.cnt-l{font-family:Oswald,sans-serif;font-size:13px;font-weight:700;width:14px}.cnt-l.bl{color:var(--ball)}.cnt-l.sl{color:var(--strike)}.cnt-l.ol{color:var(--out)}.cnt-d{display:flex;gap:5px}
.dot{width:18px;height:18px;border-radius:50%;border:2px solid #444;transition:all .15s}.dot.ba{background:var(--ball);border-color:var(--ball);box-shadow:0 0 6px rgba(68,136,255,.5)}.dot.sa{background:var(--strike);border-color:var(--strike);box-shadow:0 0 6px rgba(255,215,0,.5)}.dot.oa{background:var(--out);border-color:var(--out);box-shadow:0 0 6px rgba(255,51,51,.5)}
.cnt-stat{text-align:center}.cnt-num{font-family:Oswald,sans-serif;font-size:26px;font-weight:700;color:#fff;line-height:1}.cnt-lbl{font-size:9px;color:var(--dim);letter-spacing:1px}.cnt-mx{font-family:Oswald,sans-serif;font-size:22px;font-weight:700;color:var(--acc);line-height:1}.cnt-sp{font-family:Oswald,sans-serif;font-size:22px;font-weight:700;color:var(--green);line-height:1}
.inp{background:var(--c1);border-radius:10px;padding:10px;display:flex;flex-direction:column;gap:8px}
.irow{display:flex;gap:6px;align-items:center}.ilbl{font-size:11px;color:var(--dim);width:44px;flex-shrink:0;font-weight:700}.ilbl-opt{font-size:8px;color:#555;display:block}
.bso-row{display:flex;gap:5px}.bso-b{flex:1;padding:14px 6px;border-radius:10px;border:2px solid #444;font-size:15px;font-weight:900;cursor:pointer;text-align:center;min-height:52px;transition:all .12s;display:flex;align-items:center;justify-content:center}.bso-b:active{transform:scale(.96)}.bso-b.str{color:var(--strike);background:var(--c2)}.bso-b.str.sel{background:rgba(255,215,0,.15);border-color:var(--strike)}.bso-b.bal{color:var(--ball);background:var(--c2)}.bso-b.bal.sel{background:rgba(68,136,255,.15);border-color:var(--ball)}.bso-b.fou{color:var(--foul);background:var(--c2)}.bso-b.fou.sel{background:rgba(187,102,255,.15);border-color:var(--foul)}
.spd-wrap{display:flex;align-items:center;gap:8px;flex:1;flex-wrap:wrap}.spd-show{font-family:Oswald,sans-serif;font-size:32px;font-weight:700;color:#fff;min-width:90px}.spd-numpad{display:grid;grid-template-columns:repeat(6,64px);gap:5px}.spd-nb{background:var(--c2);border:2px solid #444;border-radius:10px;width:64px;height:56px;display:flex;align-items:center;justify-content:center;font-family:Oswald,sans-serif;font-size:26px;font-weight:700;color:#fff;cursor:pointer;transition:all .12s}.spd-nb:active{transform:scale(.92);background:#333}.spd-nb.cls{font-size:17px;color:var(--dim)}.spd-nb.empty{visibility:hidden;pointer-events:none}
.pt-grid{display:flex;flex-wrap:wrap;gap:4px;flex:1}.pt-b{background:var(--c2);border:2px solid #444;border-radius:8px;padding:10px 10px;color:var(--tx);font-size:13px;font-weight:700;cursor:pointer;min-width:72px;text-align:center;min-height:44px;display:flex;align-items:center;justify-content:center;transition:all .12s}.pt-b:active{transform:scale(.95)}.pt-b.sel{border-width:3px}.pt-c-str{border-color:#4488FF;color:#4488FF}.pt-c-shu{border-color:#88CC44;color:#88CC44}.pt-c-cur{border-color:#FF4444;color:#FF4444}.pt-c-sli{border-color:#FF8800;color:#FF8800}.pt-c-cut{border-color:#44CCDD;color:#44CCDD}.pt-c-sin{border-color:#AA66DD;color:#AA66DD}.pt-c-chg{border-color:#AA7744;color:#AA7744}.pt-c-for{border-color:#DDDDDD;color:#DDDDDD}.pt-c-spc{border-color:#FF66AA;color:#FF66AA}
.rs-grid{display:flex;flex-wrap:wrap;gap:4px;flex:1}.rs-b{background:var(--c2);border:2px solid #444;border-radius:8px;padding:8px 8px;color:var(--tx);font-size:12px;font-weight:700;cursor:pointer;min-width:56px;text-align:center;min-height:42px;display:flex;align-items:center;justify-content:center;transition:all .12s}.rs-b:active{transform:scale(.95)}.rs-b.sel{border-color:var(--out);background:rgba(255,51,51,.12);color:var(--out)}.rs-b.rs-out{border-color:var(--out)}
.act{display:flex;gap:8px;margin-top:6px}.undo{flex:1;padding:18px;border-radius:10px;border:2px solid #555;font-size:18px;font-weight:900;cursor:pointer;background:var(--c2);color:var(--tx);min-height:60px;display:flex;align-items:center;justify-content:center}.undo:active{transform:scale(.97)}.undo:disabled{opacity:.3}.rec{flex:2;padding:18px;border-radius:10px;border:none;font-size:20px;font-weight:900;cursor:pointer;background:linear-gradient(135deg,var(--red),var(--dk));color:#fff;box-shadow:0 4px 15px rgba(196,23,28,.4);letter-spacing:2px;min-height:60px;display:flex;align-items:center;justify-content:center}.rec:active{transform:scale(.97)}
.log-p{display:flex;flex-direction:column}.log-h{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;gap:4px;flex-wrap:wrap}.log-list{flex:1;overflow-y:auto}
.le-wrap{position:relative;margin-bottom:3px;overflow:hidden;border-radius:7px}.le-del{position:absolute;right:0;top:0;bottom:0;width:60px;background:var(--del);display:flex;align-items:center;justify-content:center;font-size:22px;color:#fff;cursor:pointer;border-radius:0 7px 7px 0;z-index:1}.le-del:active{background:#C62828}.le{position:relative;z-index:2;background:var(--c2);border-radius:7px;padding:6px 8px;display:grid;grid-template-columns:28px 44px 1fr 36px;gap:4px;align-items:center;font-size:11px;border-left:3px solid transparent;transition:transform .2s ease;touch-action:pan-y;cursor:pointer}.le.swiped{transform:translateX(-60px)}.le-new{animation:si .2s ease}@keyframes si{from{opacity:0;transform:translateX(15px)}to{opacity:1;transform:translateX(0)}}.le.se{border-left-color:var(--strike)}.le.be{border-left-color:var(--ball)}.le.re{border-left-color:var(--green)}.le.fe{border-left-color:var(--foul)}.le-n{font-family:Oswald,sans-serif;font-size:14px;font-weight:700;color:var(--dim)}.le-s{font-family:Oswald,sans-serif;font-size:14px;font-weight:700;color:#fff}.le-d{display:flex;flex-direction:column;gap:1px}.le-pt{font-weight:700;font-size:11px}.le-bt{font-size:9px;color:var(--dim)}.le-sb{font-family:Oswald,sans-serif;font-size:12px;font-weight:700;text-align:right}.le-sb.s{color:var(--strike)}.le-sb.b{color:var(--ball)}.le-sb.f{color:var(--foul)}.le-sb.r{color:var(--green)}
.le.editing{outline:2px solid var(--edit);outline-offset:-1px;background:rgba(33,150,243,.1)}
.le .le-inn{font-family:Oswald,sans-serif;font-size:9px;color:var(--dim);text-align:center}
.sum-btn{background:var(--c2);border:1px solid var(--acc);border-radius:6px;padding:4px 8px;color:var(--acc);font-size:10px;font-weight:700;cursor:pointer}.out-btn{background:var(--c2);border:1px solid var(--green);border-radius:6px;padding:4px 8px;color:var(--green);font-size:10px;font-weight:700;cursor:pointer}
.ps{background:var(--c2);border-radius:7px;padding:8px;margin-bottom:6px;border:1px solid #333}.ps-n{font-weight:900;font-size:13px;color:var(--acc);margin-bottom:3px}.ps-s{display:grid;grid-template-columns:1fr 1fr 1fr;gap:3px;font-size:10px}.ps-s span{color:var(--dim)}.ps-s strong{color:#fff}.ps-t{font-size:9px;color:var(--dim);margin-top:3px}
.modal-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);z-index:1000;align-items:center;justify-content:center}.modal-overlay.show{display:flex}.modal-box{background:var(--c1);border:1px solid #444;border-radius:14px;padding:16px;max-width:700px;width:95%;max-height:85vh;overflow-y:auto;position:relative}.modal-close{position:absolute;top:10px;right:14px;font-size:24px;color:var(--dim);cursor:pointer;background:none;border:none}.modal-title{font-family:Oswald,sans-serif;font-size:16px;font-weight:700;color:var(--acc);margin-bottom:12px;letter-spacing:1px}.modal-content{font-size:12px;color:var(--tx);line-height:1.8;white-space:pre-wrap;font-family:'Noto Sans JP',monospace}.copy-btn{background:var(--acc);color:#fff;border:none;border-radius:6px;padding:8px 16px;font-size:12px;font-weight:700;cursor:pointer;margin-top:12px}.copy-btn:active{opacity:.7}
.edit-banner{background:linear-gradient(135deg,#1565C0,#0D47A1);padding:8px 16px;display:flex;align-items:center;justify-content:space-between;gap:8px;border-bottom:2px solid var(--edit);display:none}
.edit-banner.show{display:flex}
.edit-banner-txt{font-size:13px;font-weight:700;color:#fff}
.edit-banner-sub{font-size:10px;color:rgba(255,255,255,.6)}
.edit-cancel{background:transparent;border:1px solid rgba(255,255,255,.4);border-radius:6px;padding:4px 12px;color:#fff;font-size:12px;font-weight:700;cursor:pointer}
.edit-cancel:active{opacity:.7}
.edit-save{background:var(--edit);border:none;border-radius:6px;padding:4px 14px;color:#fff;font-size:12px;font-weight:900;cursor:pointer}
.edit-save:active{opacity:.7}
::-webkit-scrollbar{width:3px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:#444;border-radius:2px}
@media(max-width:900px){body{overflow:auto;overflow-x:hidden}.main{display:flex;flex-direction:column;gap:8px;height:auto;min-height:auto;padding:6px;padding-bottom:30px;overflow:visible}.main>.pnl,.main>.ctr,.main>.log-p{display:flex!important;flex-direction:column;overflow:visible}.pnl{overflow:visible}.ctr{overflow:visible}.pg{grid-template-columns:repeat(3,1fr)}.spd-wrap{flex-direction:column;align-items:stretch;gap:6px}.spd-show{font-size:28px;min-width:auto;text-align:center}.spd-numpad{display:grid;grid-template-columns:repeat(6,1fr);gap:6px;width:100%}.spd-nb{width:100%;height:48px;font-size:22px}.spd-nb.cls{width:100%}.spd-nb.empty{width:100%}.pt-b{min-width:0;flex:1;font-size:12px;padding:8px 4px}.rs-b{min-width:0;flex:1;font-size:11px;padding:6px 4px}.bso-b{font-size:14px;min-height:48px}.ilbl{width:38px;font-size:10px}.cnt{flex-wrap:wrap;gap:10px}.log-list{max-height:none;overflow:visible}}
</style>
</head>
<body>
<div class="hd"><div><div class="hd-t">Analyzer 簡易入力システム</div><div class="hd-d" id="dd"></div></div></div>
<div class="team-sel-bar">
  <label>投手チーム:</label><select id="pitchTeam" onchange="onTeamChange('p')"></select>
  <label style="margin-left:12px">打者チーム:</label><select id="batTeam" onchange="onTeamChange('b')"></select>
  <label style="margin-left:16px">イニング:</label><select id="inningSel" class="inning-sel" onchange="onInningChange()"></select>
</div>
<div class="edit-banner" id="editBanner">
  <div>
    <div class="edit-banner-txt" id="editBannerTxt">✏️ 編集中：#1</div>
    <div class="edit-banner-sub">球種・S/B・結果を変更して保存、または打者を変更</div>
  </div>
  <div style="display:flex;gap:6px">
    <button class="edit-cancel" onclick="cancelEdit()">キャンセル</button>
    <button class="edit-save" onclick="saveEdit()">保存</button>
  </div>
</div>
<div class="main">
  <div class="pnl" id="panelPlayers" style="display:flex;flex-direction:column;gap:4px">
    <div id="pitcherSection"><div class="pnl-t" id="pLabel">投手（支配下）</div><div class="pg" id="pG"></div><div class="pnl-t2" id="piLabel">投手（育成）</div><div class="pg" id="pGi"></div></div>
    <div style="flex:1;display:flex;flex-direction:column;min-height:0"><div class="pnl-t" id="bLabel">打者（支配下）</div><div class="pg" id="bG"></div><div class="pnl-t2" id="biLabel">打者（育成）</div><div class="pg" id="bGi"></div></div>
  </div>
  <div class="ctr" id="panelInput">
    <div class="st"><div style="text-align:center"><div class="st-r">Pitcher</div><div class="st-n" id="cP">—</div></div><div class="st-v">VS</div><div style="text-align:center"><div class="st-r">Batter</div><div class="st-n" id="cB">—</div></div></div>
    <div class="cnt"><div class="cnt-stat"><div class="cnt-num" id="pCnt">0</div><div class="cnt-lbl">球数</div></div><div class="cnt-g"><div class="cnt-l bl">B</div><div class="cnt-d" id="bD"><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div><div class="cnt-g"><div class="cnt-l sl">S</div><div class="cnt-d" id="sD"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div><div class="cnt-g"><div class="cnt-l ol">O</div><div class="cnt-d" id="oD"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div><div class="cnt-stat"><div class="cnt-mx" id="mxS">—</div><div class="cnt-lbl">最速</div></div><div class="cnt-stat"><div class="cnt-sp" id="spR">—</div><div class="cnt-lbl">S%</div></div></div>
    <div class="inp">
      <div class="irow"><div class="ilbl">球速<span class="ilbl-opt">※任意</span></div><div class="spd-wrap"><span class="spd-show" id="spdShow">— km</span><div class="spd-numpad"><div class="spd-nb" onclick="spdTap('0')">0</div><div class="spd-nb" onclick="spdTap('1')">1</div><div class="spd-nb" onclick="spdTap('2')">2</div><div class="spd-nb" onclick="spdTap('3')">3</div><div class="spd-nb" onclick="spdTap('4')">4</div><div class="spd-nb" onclick="spdTap('5')">5</div><div class="spd-nb" onclick="spdTap('6')">6</div><div class="spd-nb" onclick="spdTap('7')">7</div><div class="spd-nb" onclick="spdTap('8')">8</div><div class="spd-nb" onclick="spdTap('9')">9</div><div class="spd-nb empty"></div><div class="spd-nb cls" onclick="spdClear()">✕</div></div></div></div>
      <div style="border-top:1px solid #333;margin:2px 0"></div>
      <div class="irow"><div class="ilbl">球種<span class="ilbl-opt">※任意</span></div><div style="flex:1;display:flex;flex-direction:column;gap:4px"><div class="pt-grid" id="ptG1"></div><div class="pt-grid" id="ptG2"></div></div></div>
      <div style="border-top:1px solid #333;margin:2px 0"></div>
      <div class="irow"><div class="ilbl">S/B</div><div class="bso-row" style="flex:1"><div class="bso-b str" data-sb="ストライク" onclick="selSB(this)">ストライク</div><div class="bso-b bal" data-sb="ボール" onclick="selSB(this)">ボール</div><div class="bso-b fou" data-sb="ファウル" onclick="selSB(this)">ファウル</div></div></div>
      <div style="border-top:1px solid #333;margin:2px 0"></div>
      <div class="irow"><div class="ilbl">結果<span class="ilbl-opt">※任意</span></div><div style="flex:1;display:flex;flex-direction:column;gap:4px"><div class="rs-grid" id="rsG1"></div><div class="rs-grid" id="rsG2"></div></div></div>
      <div style="height:6px"></div>
      <div class="act"><button class="undo" id="undoBtn" onclick="undo()" disabled>↩ 戻る</button><button class="rec" id="recBtn" onclick="rec()">記録</button></div>
    </div>
  </div>
  <div class="pnl log-p" id="panelLog">
    <div class="log-h"><div class="pnl-t">投球ログ</div><div style="display:flex;gap:4px"><button class="out-btn" onclick="showOutput()">📤 球数出力</button><button class="sum-btn" onclick="showSum()">📊 集計</button></div></div>
    <div id="sumA"></div><div class="log-list" id="logL"></div>
  </div>
</div>
<div class="modal-overlay" id="outputModal"><div class="modal-box"><button class="modal-close" onclick="closeOutput()">✕</button><div class="modal-title">📤 球数出力（イニング別・投手別・打者別詳細）</div><div class="modal-content" id="outputContent"></div><button class="copy-btn" onclick="copyOutput()">📋 コピー</button></div></div>
<script>
// ===== NPB 12球団 2026年 全選手データ =====

const TEAMS_DATA = {
  "広島": { // 79名
    pitchers: [
      {no:11,name:"齊藤汰直"},
      {no:13,name:"森浦大輔"},
      {no:14,name:"大瀬良大地"},
      {no:16,name:"森翔平"},
      {no:17,name:"常廣羽也斗"},
      {no:18,name:"森下暢仁"},
      {no:19,name:"床田寛樹"},
      {no:20,name:"栗林良吏"},
      {no:21,name:"中﨑翔太"},
      {no:22,name:"髙太一"},
      {no:24,name:"黒原拓未"},
      {no:26,name:"益田武尚"},
      {no:28,name:"佐藤柳之介"},
      {no:29,name:"ケムナ誠"},
      {no:30,name:"滝田一希"},
      {no:34,name:"高橋昂也"},
      {no:35,name:"工藤泰己"},
      {no:36,name:"塹江敦哉"},
      {no:38,name:"赤木晴哉"},
      {no:39,name:"長谷部銀次"},
      {no:41,name:"鈴木健矢"},
      {no:42,name:"Ｆ．ターノック"},
      {no:43,name:"島内颯太郎"},
      {no:45,name:"松本竜也"},
      {no:46,name:"髙木快大"},
      {no:47,name:"斉藤優汰"},
      {no:48,name:"アドゥワ誠"},
      {no:53,name:"岡本駿"},
      {no:65,name:"玉村昇悟"},
      {no:66,name:"遠藤淳志"},
      {no:67,name:"菊地ハルン"},
      {no:68,name:"Ｔ．ハーン"},
      {no:70,name:"日髙暖己"},
      {no:98,name:"辻大雅"},
    ],
    batters: [
      {no:27,name:"會澤翼"},
      {no:31,name:"坂倉将吾"},
      {no:32,name:"石原貴規"},
      {no:57,name:"持丸泰輝"},
      {no:62,name:"清水叶人"},
      {no:64,name:"髙木翔斗"},
      {no:0,name:"勝田成"},
      {no:4,name:"矢野雅哉"},
      {no:5,name:"小園海斗"},
      {no:7,name:"堂林翔太"},
      {no:10,name:"佐々木泰"},
      {no:33,name:"菊池涼介"},
      {no:44,name:"林晃汰"},
      {no:49,name:"渡邉悠斗"},
      {no:54,name:"西川篤夢"},
      {no:58,name:"仲田侑仁"},
      {no:63,name:"内田湘大"},
      {no:69,name:"辰見鴻之介"},
      {no:93,name:"前川誠太"},
      {no:94,name:"佐藤啓介"},
      {no:95,name:"Ｅ．モンテロ"},
      {no:99,name:"二俣翔一"},
      {no:9,name:"秋山翔吾"},
      {no:37,name:"野間峻祥"},
      {no:51,name:"平川蓮"},
      {no:52,name:"末包昇大"},
      {no:56,name:"久保修"},
      {no:59,name:"大盛穂"},
      {no:60,name:"田村俊介"},
      {no:61,name:"Ｓ．ファビアン"},
      {no:96,name:"中村奨成"},
      {no:97,name:"中村貴浩"},
    ],
    iku_pitchers: [
      {no:120,name:"杉田健"},
      {no:123,name:"小船翼"},
      {no:126,name:"竹下海斗"},
      {no:127,name:"河野佳"},
      {no:128,name:"杉原望来"},
      {no:200,name:"アリア"},
      {no:201,name:"アルティレス"},
    ],
    iku_batters: [
      {no:122,name:"安竹俊喜"},
      {no:124,name:"小林結太"},
      {no:125,name:"岸本大希"},
      {no:130,name:"Ｍ．ラミレス"},
      {no:121,name:"名原典彦"},
      {no:131,name:"Ｎ．ロベルト"},
    ],
  },
  "巨人": { // 103名
    pitchers: [
      {no:11,name:"田中将大"},
      {no:15,name:"大勢"},
      {no:17,name:"西舘勇陽"},
      {no:19,name:"山﨑伊織"},
      {no:20,name:"戸郷翔征"},
      {no:21,name:"竹丸和幸"},
      {no:26,name:"Ｆ．ウィットリー"},
      {no:28,name:"Ｓ．ハワード"},
      {no:30,name:"田和廉"},
      {no:31,name:"赤星優志"},
      {no:36,name:"山城京平"},
      {no:41,name:"中川皓太"},
      {no:42,name:"Ｂ．マタ"},
      {no:43,name:"則本昂大"},
      {no:45,name:"田中瑛斗"},
      {no:46,name:"又木鉄平"},
      {no:47,name:"森田駿哉"},
      {no:49,name:"Ａ．バルドナード"},
      {no:53,name:"高梨雄平"},
      {no:54,name:"松浦慶斗"},
      {no:56,name:"北浦竜次"},
      {no:57,name:"宮原駿介"},
      {no:58,name:"船迫大雅"},
      {no:62,name:"横川凱"},
      {no:63,name:"泉圭輔"},
      {no:64,name:"山田龍聖"},
      {no:65,name:"石川達也"},
      {no:66,name:"平内龍太"},
      {no:91,name:"堀田賢慎"},
      {no:92,name:"Ｒ．マルティネス"},
      {no:97,name:"井上温大"},
    ],
    batters: [
      {no:10,name:"甲斐拓也"},
      {no:22,name:"小林誠司"},
      {no:24,name:"大城卓三"},
      {no:27,name:"岸田行倫"},
      {no:37,name:"郡拓也"},
      {no:67,name:"山瀬慎之助"},
      {no:0,name:"増田大輝"},
      {no:2,name:"吉川尚輝"},
      {no:5,name:"門脇誠"},
      {no:6,name:"坂本勇人"},
      {no:23,name:"石塚裕惺"},
      {no:29,name:"Ｂ．ダルベック"},
      {no:32,name:"浦田俊輔"},
      {no:33,name:"小濱佑斗"},
      {no:35,name:"泉口友汰"},
      {no:52,name:"リチャード"},
      {no:60,name:"荒巻悠"},
      {no:61,name:"増田陸"},
      {no:99,name:"藤井健翔"},
      {no:8,name:"丸佳浩"},
      {no:9,name:"松本剛"},
      {no:12,name:"萩尾匡也"},
      {no:13,name:"Ｔ．キャベッジ"},
      {no:38,name:"岡田悠希"},
      {no:39,name:"皆川岳飛"},
      {no:40,name:"中山礼都"},
      {no:44,name:"佐々木俊輔"},
      {no:51,name:"浅野翔吾"},
      {no:59,name:"若林楽人"},
      {no:96,name:"三塚琉生"},
    ],
    iku_pitchers: [
      {no:11,name:"冨重英二郎"},
      {no:12,name:"林燦"},
      {no:14,name:"堀江正太郎"},
      {no:15,name:"鈴木圭晋"},
      {no:16,name:"千葉隆広"},
      {no:18,name:"木下幹也"},
      {no:19,name:"園田純規"},
      {no:21,name:"松井颯"},
      {no:23,name:"田村朋輝"},
      {no:26,name:"吉村優聖歩"},
      {no:28,name:"富田龍"},
      {no:29,name:"西川歩"},
      {no:30,name:"吹田志道"},
      {no:34,name:"森本哲星"},
      {no:35,name:"Ｅ．ルシアーノ"},
      {no:41,name:"黃錦豪"},
      {no:42,name:"Ｆ．グズマン"},
      {no:47,name:"河野優作"},
      {no:50,name:"板東湧梧"},
      {no:63,name:"花田侑樹"},
      {no:68,name:"代木大和"},
      {no:77,name:"石田隼都"},
      {no:90,name:"石田充冴"},
      {no:99,name:"京本眞"},
    ],
    iku_batters: [
      {no:6,name:"松井蓮太朗"},
      {no:20,name:"喜多隆介"},
      {no:22,name:"亀田啓太"},
      {no:24,name:"坂本達也"},
      {no:2,name:"中田歩夢"},
      {no:4,name:"村山源"},
      {no:5,name:"田上優弥"},
      {no:7,name:"宇都宮葵星"},
      {no:25,name:"竹下徠空"},
      {no:27,name:"北村流音"},
      {no:33,name:"平山功太"},
      {no:67,name:"川原田純平"},
      {no:1,name:"鈴木大和"},
      {no:3,name:"知念大成"},
      {no:8,name:"相澤白虎"},
      {no:13,name:"Ｊ．ティマ"},
      {no:49,name:"Ｃ．フェリス"},
      {no:69,name:"笹原操希"},
    ],
  },
  "阪神": { // 77名
    pitchers: [
      {no:13,name:"岩崎優"},
      {no:14,name:"岩貞祐太"},
      {no:16,name:"西勇輝"},
      {no:18,name:"伊原陵人"},
      {no:19,name:"下村海翔"},
      {no:21,name:"大竹耕太郎"},
      {no:26,name:"椎葉剛"},
      {no:27,name:"伊藤将司"},
      {no:28,name:"今朝丸裕喜"},
      {no:29,name:"髙橋遥人"},
      {no:30,name:"門別啓人"},
      {no:35,name:"才木浩人"},
      {no:36,name:"畠世周"},
      {no:37,name:"及川雅貴"},
      {no:41,name:"村上頌樹"},
      {no:42,name:"Ｅ．ルーカス"},
      {no:44,name:"早瀬朔"},
      {no:46,name:"Ｃ．ラグズデール"},
      {no:47,name:"桐敷拓馬"},
      {no:48,name:"茨木秀俊"},
      {no:49,name:"工藤泰成"},
      {no:50,name:"富田蓮"},
      {no:51,name:"早川太貴"},
      {no:54,name:"木下里都"},
      {no:55,name:"能登嵩都"},
      {no:63,name:"石黒佑弥"},
      {no:64,name:"岡留英貴"},
      {no:65,name:"湯浅京己"},
      {no:66,name:"津田淳哉"},
      {no:69,name:"石井大智"},
      {no:98,name:"Ｒ．ドリス"},
      {no:99,name:"Ｄ．モレッタ"},
    ],
    batters: [
      {no:2,name:"梅野隆太郎"},
      {no:12,name:"坂本誠志郎"},
      {no:17,name:"伏見寅威"},
      {no:39,name:"榮枝裕貴"},
      {no:43,name:"町田隼乙"},
      {no:57,name:"長坂拳弥"},
      {no:59,name:"藤田健斗"},
      {no:68,name:"中川勇斗"},
      {no:0,name:"木浪聖也"},
      {no:3,name:"大山悠輔"},
      {no:4,name:"熊谷敬宥"},
      {no:7,name:"中野拓夢"},
      {no:8,name:"佐藤輝明"},
      {no:9,name:"立石正広"},
      {no:24,name:"Ｃ．ディベイニー"},
      {no:25,name:"谷端将伍"},
      {no:33,name:"糸原健斗"},
      {no:38,name:"小幡竜平"},
      {no:45,name:"佐野大陽"},
      {no:52,name:"山田脩也"},
      {no:56,name:"百﨑蒼生"},
      {no:62,name:"植田海"},
      {no:67,name:"髙寺望夢"},
      {no:1,name:"森下翔太"},
      {no:5,name:"近本光司"},
      {no:34,name:"岡城快生"},
      {no:40,name:"井坪陽生"},
      {no:53,name:"島田海吏"},
      {no:58,name:"前川右京"},
      {no:60,name:"小野寺暖"},
      {no:61,name:"豊田寛"},
      {no:32,name:"濱田太貴"},
    ],
    iku_pitchers: [
      {no:122,name:"小川一平"},
      {no:123,name:"松原快"},
      {no:125,name:"伊藤稜"},
      {no:127,name:"神宮僚介"},
      {no:132,name:"Ａ．マルティネス"},
    ],
    iku_batters: [
      {no:128,name:"嶋村麟士朗"},
      {no:121,name:"戸井零士"},
      {no:130,name:"川﨑俊哲"},
      {no:133,name:"Ｊ．アルナエス"},
      {no:120,name:"西純矢"},
      {no:126,name:"福島圭音"},
      {no:129,name:"山﨑照英"},
      {no:134,name:"Ｓ．コンスエグラ"},
    ],
  },
  "DeNA": { // 81名
    pitchers: [
      {no:0,name:"Ｊ．デュプランティエ"},
      {no:11,name:"東克樹"},
      {no:12,name:"竹田祐"},
      {no:13,name:"伊勢大夢"},
      {no:14,name:"石田健大"},
      {no:15,name:"島田舜也"},
      {no:16,name:"大貫晋一"},
      {no:18,name:"小園健太"},
      {no:19,name:"山﨑康晃"},
      {no:20,name:"坂本裕哉"},
      {no:22,name:"入江大生"},
      {no:24,name:"吉野光樹"},
      {no:27,name:"藤浪晋太郎"},
      {no:30,name:"篠木健太郎"},
      {no:33,name:"武田陸玖"},
      {no:35,name:"橋本達弥"},
      {no:38,name:"松本凌人"},
      {no:39,name:"若松尚輝"},
      {no:41,name:"佐々木千隼"},
      {no:42,name:"Ａ．コックス"},
      {no:43,name:"深沢鳳介"},
      {no:45,name:"森原康平"},
      {no:46,name:"坂口翔颯"},
      {no:47,name:"片山皓心"},
      {no:49,name:"Ｊ．ルイーズ"},
      {no:53,name:"中川颯"},
      {no:54,name:"石田裕太郎"},
      {no:59,name:"平良拳太郎"},
      {no:62,name:"Ｓ．レイノルズ"},
      {no:64,name:"中川虎大"},
      {no:65,name:"宮城滝太"},
      {no:68,name:"岩田将貴"},
      {no:92,name:"堀岡隼人"},
      {no:98,name:"Ｈ．マルセリーノ"},
    ],
    batters: [
      {no:5,name:"松尾汐恩"},
      {no:10,name:"戸柱恭孝"},
      {no:32,name:"益子京右"},
      {no:50,name:"山本祐大"},
      {no:57,name:"東妻純平"},
      {no:60,name:"古市尊"},
      {no:95,name:"九鬼隆平"},
      {no:0,name:"林琢真"},
      {no:2,name:"牧秀悟"},
      {no:3,name:"小田康一郎"},
      {no:6,name:"森敬斗"},
      {no:9,name:"京田陽太"},
      {no:25,name:"筒香嘉智"},
      {no:26,name:"三森大貴"},
      {no:31,name:"柴田竜拓"},
      {no:34,name:"宮下朝陽"},
      {no:37,name:"加藤響"},
      {no:44,name:"石上泰輝"},
      {no:48,name:"成瀬脩人"},
      {no:51,name:"宮﨑敏郎"},
      {no:56,name:"田内真翔"},
      {no:66,name:"Ｄ．ビシエド"},
      {no:4,name:"度会隆輝"},
      {no:7,name:"佐野恵太"},
      {no:8,name:"神里和毅"},
      {no:28,name:"勝又温史"},
      {no:55,name:"井上絢登"},
      {no:58,name:"梶原昂希"},
      {no:61,name:"蝦名達夫"},
      {no:63,name:"関根大気"},
      {no:67,name:"濱将乃介"},
      {no:99,name:"Ｃ．ヒュンメル"},
    ],
    iku_pitchers: [
      {no:52,name:"浜地真澄"},
      {no:102,name:"清水麻成"},
      {no:103,name:"金渕光希"},
      {no:111,name:"吉岡暖"},
      {no:115,name:"馬場皐輔"},
      {no:122,name:"庄司陽斗"},
      {no:136,name:"森下瑠大"},
      {no:140,name:"松本隆之介"},
    ],
    iku_batters: [
      {no:127,name:"上甲凌大"},
      {no:130,name:"近藤大雅"},
      {no:125,name:"小笠原蒼"},
      {no:129,name:"西巻賢二"},
      {no:131,name:"清水詩太"},
      {no:193,name:"高見澤郁魅"},
      {no:155,name:"小針大輝"},
    ],
  },
  "ヤクルト": { // 77名
    pitchers: [
      {no:11,name:"Ｊ．キハダ"},
      {no:12,name:"石山泰稚"},
      {no:15,name:"中村優斗"},
      {no:17,name:"清水昇"},
      {no:18,name:"奥川恭伸"},
      {no:19,name:"石川雅規"},
      {no:20,name:"木澤尚文"},
      {no:21,name:"吉村貢司郎"},
      {no:24,name:"星知弥"},
      {no:26,name:"山野太一"},
      {no:28,name:"松本健吾"},
      {no:29,name:"小川泰弘"},
      {no:30,name:"荘司宏太"},
      {no:33,name:"山崎太陽"},
      {no:34,name:"田口麗斗"},
      {no:35,name:"石原勇輝"},
      {no:40,name:"高梨裕稔"},
      {no:41,name:"拓也"},
      {no:43,name:"増居翔太"},
      {no:44,name:"大西広樹"},
      {no:45,name:"小澤怜史"},
      {no:46,name:"大道温貴"},
      {no:47,name:"高橋奎二"},
      {no:49,name:"鈴木蓮吾"},
      {no:53,name:"長谷川宙輝"},
      {no:56,name:"坂本拓己"},
      {no:58,name:"Ｎ．ウォルターズ"},
      {no:61,name:"飯田琉斗"},
      {no:62,name:"Ｊ．リランソ"},
      {no:66,name:"阪口皓亮"},
      {no:68,name:"丸山翔大"},
      {no:69,name:"下川隼佑"},
      {no:71,name:"沼田翔平"},
      {no:99,name:"青柳晃洋"},
    ],
    batters: [
      {no:2,name:"古賀優大"},
      {no:27,name:"中村悠平"},
      {no:32,name:"松本直樹"},
      {no:48,name:"柿沼友哉"},
      {no:52,name:"橋本星哉"},
      {no:57,name:"矢野泰二郎"},
      {no:65,name:"鈴木叶"},
      {no:0,name:"赤羽由紘"},
      {no:1,name:"山田哲人"},
      {no:3,name:"内山壮真"},
      {no:6,name:"松下歩叶"},
      {no:7,name:"長岡秀樹"},
      {no:8,name:"茂木栄五郎"},
      {no:10,name:"宮本丈"},
      {no:13,name:"Ｊ．オスナ"},
      {no:37,name:"山野辺翔"},
      {no:38,name:"石井巧"},
      {no:39,name:"松川玲央"},
      {no:50,name:"北村恵吾"},
      {no:54,name:"田中陽翔"},
      {no:60,name:"武岡龍世"},
      {no:67,name:"伊藤琉偉"},
      {no:4,name:"丸山和郁"},
      {no:9,name:"塩見泰隆"},
      {no:25,name:"Ｄ．サンタナ"},
      {no:31,name:"モイセエフニキータ"},
      {no:36,name:"西村瑠伊斗"},
      {no:42,name:"澤井廉"},
      {no:63,name:"増田珠"},
      {no:64,name:"岩田幸宏"},
    ],
    iku_pitchers: [
      {no:12,name:"廣澤優"},
      {no:13,name:"竹山日向"},
      {no:14,name:"西舘昂汰"},
      {no:15,name:"小宮悠瞳"},
      {no:16,name:"西濱勇星"},
      {no:17,name:"翔聖"},
      {no:19,name:"佐藤琢磨"},
    ],
    iku_batters: [
      {no:22,name:"松本龍之介"},
      {no:27,name:"中川拓真"},
      {no:23,name:"澤野聖悠"},
      {no:25,name:"根岸辰昇"},
      {no:26,name:"髙野颯太"},
      {no:24,name:"モンテル"},
    ],
  },
  "中日": { // 76名
    pitchers: [
      {no:11,name:"中西聖輝"},
      {no:13,name:"橋本侑樹"},
      {no:14,name:"草加勝"},
      {no:16,name:"櫻井頼之介"},
      {no:17,name:"柳裕也"},
      {no:19,name:"髙橋宏斗"},
      {no:20,name:"涌井秀章"},
      {no:21,name:"金丸夢斗"},
      {no:22,name:"大野雄大"},
      {no:26,name:"仲地礼亜"},
      {no:28,name:"Ａ．アブレウ"},
      {no:29,name:"松木平優太"},
      {no:30,name:"根尾昂"},
      {no:32,name:"伊藤茉央"},
      {no:34,name:"福敬登"},
      {no:36,name:"福田幸之介"},
      {no:38,name:"松葉貴大"},
      {no:41,name:"勝野昌慶"},
      {no:46,name:"梅野雄吾"},
      {no:47,name:"吉田聖弥"},
      {no:50,name:"清水達也"},
      {no:52,name:"篠﨑国忠"},
      {no:54,name:"藤嶋健人"},
      {no:59,name:"齋藤綱記"},
      {no:61,name:"高橋幸佑"},
      {no:64,name:"有馬惠叶"},
      {no:69,name:"三浦瑞樹"},
      {no:70,name:"近藤廉"},
      {no:90,name:"松山晋也"},
      {no:93,name:"Ｋ．マラー"},
    ],
    batters: [
      {no:9,name:"石伊雄太"},
      {no:35,name:"木下拓哉"},
      {no:39,name:"宇佐見真吾"},
      {no:43,name:"味谷大誠"},
      {no:49,name:"加藤匠馬"},
      {no:58,name:"石橋康太"},
      {no:0,name:"辻本倫太郎"},
      {no:2,name:"田中幹也"},
      {no:3,name:"高橋周平"},
      {no:4,name:"Ｏ．カリステ"},
      {no:5,name:"村松開人"},
      {no:7,name:"福永裕基"},
      {no:23,name:"Ｍ．サノー"},
      {no:25,name:"石川昂弥"},
      {no:31,name:"森駿太"},
      {no:45,name:"土田龍空"},
      {no:48,name:"阿部寿樹"},
      {no:56,name:"新保茉良"},
      {no:60,name:"山本泰寛"},
      {no:63,name:"板山祐太郎"},
      {no:65,name:"知野直人"},
      {no:97,name:"樋口正修"},
      {no:1,name:"岡林勇希"},
      {no:8,name:"大島洋平"},
      {no:24,name:"Ｊ．ボスラー"},
      {no:42,name:"ブライト健太"},
      {no:44,name:"川越誠司"},
      {no:51,name:"上林誠知"},
      {no:55,name:"細川成也"},
      {no:57,name:"花田旭"},
      {no:66,name:"鵜飼航丞"},
      {no:67,name:"能戸輝夢"},
    ],
    iku_pitchers: [
      {no:201,name:"牧野憲伸"},
      {no:203,name:"井上剣也"},
      {no:204,name:"森博人"},
      {no:205,name:"土生翔太"},
      {no:211,name:"梅津晃大"},
      {no:213,name:"森山暁生"},
    ],
    iku_batters: [
      {no:206,name:"山浅龍之介"},
      {no:215,name:"日渡騰輝"},
      {no:202,name:"中村奈一輝"},
      {no:207,name:"津田啓史"},
      {no:216,name:"石川大峨"},
      {no:218,name:"川上理偉"},
      {no:209,name:"福元悠真"},
      {no:217,name:"三上愛介"},
    ],
  },
  "ソフトバンク": { // 117名
    pitchers: [
      {no:2,name:"Ｃ．スチュワート・ジュニア"},
      {no:10,name:"上沢直之"},
      {no:11,name:"津森宥紀"},
      {no:13,name:"稲川竜汰"},
      {no:16,name:"東浜巨"},
      {no:18,name:"徐若熙"},
      {no:19,name:"大津亮介"},
      {no:20,name:"村上泰斗"},
      {no:26,name:"鈴木豪太"},
      {no:27,name:"岩井俊介"},
      {no:28,name:"安德駿"},
      {no:29,name:"大江竜聖"},
      {no:30,name:"中村稔弥"},
      {no:35,name:"Ｌ．モイネロ"},
      {no:39,name:"尾形崇斗"},
      {no:40,name:"杉山一樹"},
      {no:41,name:"前田悠伍"},
      {no:42,name:"伊藤優輔"},
      {no:47,name:"大関友久"},
      {no:48,name:"藤井皓哉"},
      {no:49,name:"松本晴"},
      {no:50,name:"相良雅斗"},
      {no:51,name:"前田純"},
      {no:53,name:"大山凌"},
      {no:54,name:"Ｒ．オスナ"},
      {no:58,name:"木村大成"},
      {no:60,name:"大野稼頭央"},
      {no:63,name:"Ｄ．ヘルナンデス"},
      {no:64,name:"上茶谷大河"},
      {no:66,name:"松本裕樹"},
      {no:68,name:"木村光"},
      {no:69,name:"岩崎峻典"},
    ],
    batters: [
      {no:0,name:"渡邉陸"},
      {no:12,name:"嶺井博希"},
      {no:45,name:"谷川原健太"},
      {no:55,name:"石塚綜一郎"},
      {no:62,name:"海野隆司"},
      {no:65,name:"藤田悠太郎"},
      {no:0,name:"川瀬晃"},
      {no:4,name:"Ｊ．ダウンズ"},
      {no:5,name:"山川穂高"},
      {no:6,name:"今宮健太"},
      {no:7,name:"中村晃"},
      {no:8,name:"牧原大成"},
      {no:24,name:"栗原陵矢"},
      {no:25,name:"庄子雄大"},
      {no:33,name:"廣瀨隆太"},
      {no:36,name:"イヒネイツア"},
      {no:43,name:"井上朋也"},
      {no:46,name:"宇野真仁朗"},
      {no:52,name:"秋広優人"},
      {no:56,name:"髙橋隆慶"},
      {no:67,name:"石見颯真"},
      {no:99,name:"野村勇"},
      {no:3,name:"近藤健介"},
      {no:9,name:"柳田悠岐"},
      {no:23,name:"周東佑京"},
      {no:31,name:"正木智也"},
      {no:32,name:"柳町達"},
      {no:44,name:"笹川吉康"},
      {no:57,name:"緒方理貢"},
      {no:61,name:"川村友斗"},
      {no:77,name:"山本恵大"},
    ],
    iku_pitchers: [
      {no:120,name:"長谷川威展"},
      {no:126,name:"宮里優吾"},
      {no:128,name:"河野伸一朗"},
      {no:132,name:"川口冬弥"},
      {no:134,name:"村田賢一"},
      {no:135,name:"Ａ．アルメンタ"},
      {no:136,name:"大竹風雅"},
      {no:137,name:"津嘉山憲志郎"},
      {no:138,name:"相原雄太"},
      {no:139,name:"井﨑燦志郎"},
      {no:140,name:"岡田皓一朗"},
      {no:141,name:"澤柳亮太郎"},
      {no:142,name:"藤原大翔"},
      {no:145,name:"ハモンド"},
      {no:146,name:"大矢琉晟"},
      {no:148,name:"山崎琢磨"},
      {no:149,name:"熊谷太雅"},
      {no:152,name:"塩士暖"},
      {no:153,name:"張峻瑋"},
      {no:155,name:"長﨑蓮汰"},
      {no:156,name:"Ｌ．ロドリゲス"},
      {no:157,name:"田上奏大"},
      {no:160,name:"長水啓眞"},
      {no:161,name:"内野海斗"},
      {no:162,name:"岡植純平"},
      {no:163,name:"佐々木明都"},
      {no:164,name:"北斗"},
      {no:169,name:"飛田悠成"},
      {no:176,name:"Ｄ．サルディ"},
    ],
    iku_batters: [
      {no:125,name:"大友宗"},
      {no:130,name:"牧原巧汰"},
      {no:133,name:"池田栞太"},
      {no:171,name:"盛島稜大"},
      {no:121,name:"ザイレン"},
      {no:122,name:"藤野恵音"},
      {no:124,name:"桑原秀侍"},
      {no:127,name:"広瀬結煌"},
      {no:129,name:"佐倉俠史朗"},
      {no:131,name:"中澤恒貴"},
      {no:144,name:"江崎歩"},
      {no:150,name:"大橋令和"},
      {no:159,name:"山下恭吾"},
      {no:170,name:"西尾歩真"},
      {no:174,name:"Ｊ．モレノ"},
      {no:175,name:"Ｄ．アルモンテ"},
      {no:123,name:"大泉周也"},
      {no:143,name:"漁府輝羽"},
      {no:147,name:"木下勇人"},
      {no:151,name:"鈴木貴大"},
      {no:154,name:"生海"},
      {no:158,name:"エミール"},
      {no:166,name:"重松凱人"},
      {no:168,name:"佐藤航太"},
      {no:173,name:"Ｊ．オスーナ"},
    ],
  },
  "日本ハム": { // 81名
    pitchers: [
      {no:12,name:"矢澤宏太"},
      {no:13,name:"生田目翼"},
      {no:14,name:"加藤貴之"},
      {no:15,name:"北山亘基"},
      {no:16,name:"達孝太"},
      {no:17,name:"伊藤大海"},
      {no:18,name:"山﨑福也"},
      {no:19,name:"玉井大翔"},
      {no:20,name:"上原健太"},
      {no:22,name:"杉浦稔大"},
      {no:24,name:"金村尚真"},
      {no:25,name:"宮西尚生"},
      {no:26,name:"田中正義"},
      {no:27,name:"大川慈英"},
      {no:28,name:"河野竜生"},
      {no:29,name:"細野晴希"},
      {no:30,name:"Ｓ．ラオ"},
      {no:31,name:"柴田獅子"},
      {no:32,name:"藤田琉生"},
      {no:34,name:"堀瑞輝"},
      {no:35,name:"浅利太門"},
      {no:37,name:"古林睿煬"},
      {no:40,name:"島本浩也"},
      {no:41,name:"福谷浩司"},
      {no:45,name:"福島蓮"},
      {no:46,name:"畔柳亨丞"},
      {no:47,name:"柳川大晟"},
      {no:48,name:"齋藤友貴哉"},
      {no:52,name:"池田隆英"},
      {no:55,name:"菊地大稀"},
      {no:62,name:"清水大暉"},
      {no:63,name:"山城航太郎"},
      {no:67,name:"山本拓実"},
      {no:74,name:"有原航平"},
      {no:96,name:"孫易磊"},
    ],
    batters: [
      {no:3,name:"郡司裕也"},
      {no:10,name:"清水優心"},
      {no:33,name:"進藤勇也"},
      {no:57,name:"藤森海斗"},
      {no:60,name:"吉田賢吾"},
      {no:64,name:"田宮裕涼"},
      {no:98,name:"梅林優貴"},
      {no:4,name:"上川畑大悟"},
      {no:5,name:"野村佑希"},
      {no:6,name:"Ｒ．カストロ"},
      {no:9,name:"中島卓也"},
      {no:21,name:"清宮幸太郎"},
      {no:39,name:"有薗直輝"},
      {no:43,name:"水野達稀"},
      {no:44,name:"阪口樂"},
      {no:49,name:"大塚瑠晏"},
      {no:51,name:"半田南十"},
      {no:54,name:"山縣秀"},
      {no:56,name:"細川凌平"},
      {no:58,name:"奈良間大己"},
      {no:65,name:"明瀬諒介"},
      {no:7,name:"西川遥輝"},
      {no:8,name:"淺間大基"},
      {no:36,name:"宮崎一樹"},
      {no:42,name:"エドポロケイン"},
      {no:50,name:"五十幡亮汰"},
      {no:53,name:"水谷瞬"},
      {no:61,name:"今川優馬"},
      {no:66,name:"万波中正"},
      {no:99,name:"Ｆ．レイエス"},
    ],
    iku_pitchers: [
      {no:113,name:"加藤大和"},
      {no:114,name:"松本遼大"},
      {no:115,name:"清宮虎多朗"},
      {no:116,name:"松岡洸希"},
      {no:117,name:"宮内春輝"},
      {no:121,name:"川勝空人"},
      {no:122,name:"澁谷純希"},
      {no:124,name:"横山永遠"},
      {no:140,name:"福田俊"},
      {no:154,name:"安西叶翔"},
      {no:159,name:"根本悠楓"},
    ],
    iku_batters: [
      {no:111,name:"濵田泰希"},
      {no:123,name:"常谷拓輝"},
      {no:125,name:"藤田大清"},
      {no:127,name:"山口アタル"},
      {no:168,name:"星野ひので"},
    ],
  },
  "オリックス": { // 92名
    pitchers: [
      {no:0,name:"Ａ．エスピノーザ"},
      {no:11,name:"山下舜平大"},
      {no:12,name:"東晃平"},
      {no:13,name:"寺西成騎"},
      {no:15,name:"椋木蓮"},
      {no:16,name:"平野佳寿"},
      {no:17,name:"曽谷龍平"},
      {no:18,name:"宮城大弥"},
      {no:19,name:"山岡泰輔"},
      {no:20,name:"阿部翔太"},
      {no:21,name:"山﨑颯一郎"},
      {no:22,name:"九里亜蓮"},
      {no:23,name:"吉田輝星"},
      {no:26,name:"齋藤響介"},
      {no:28,name:"富山凌雅"},
      {no:29,name:"田嶋大樹"},
      {no:31,name:"藤川敦也"},
      {no:35,name:"古田島成龍"},
      {no:36,name:"森陽樹"},
      {no:40,name:"岩嵜翔"},
      {no:41,name:"佐藤龍月"},
      {no:42,name:"Ａ．マチャド"},
      {no:43,name:"髙谷舟"},
      {no:47,name:"山口廉王"},
      {no:48,name:"東松快征"},
      {no:49,name:"片山楽生"},
      {no:52,name:"横山楓"},
      {no:57,name:"山田修義"},
      {no:59,name:"Ｌ．ペルドモ"},
      {no:66,name:"博志"},
      {no:68,name:"入山海斗"},
      {no:69,name:"Ｓ．ジェリー"},
      {no:93,name:"佐藤一磨"},
      {no:94,name:"川瀬堅斗"},
      {no:95,name:"才木海翔"},
      {no:96,name:"髙島泰都"},
      {no:98,name:"権田琉成"},
    ],
    batters: [
      {no:2,name:"若月健矢"},
      {no:4,name:"森友哉"},
      {no:32,name:"福永奨"},
      {no:37,name:"石川亮"},
      {no:44,name:"頓宮裕真"},
      {no:50,name:"山中稜真"},
      {no:60,name:"野上士耀"},
      {no:62,name:"堀柊那"},
      {no:1,name:"太田椋"},
      {no:5,name:"西野真弘"},
      {no:6,name:"宗佑磨"},
      {no:9,name:"野口智哉"},
      {no:10,name:"大城滉二"},
      {no:24,name:"紅林弘太郎"},
      {no:25,name:"内藤鵬"},
      {no:30,name:"廣岡大志"},
      {no:34,name:"横山聖哉"},
      {no:45,name:"Ｂ．シーモア"},
      {no:67,name:"中川圭太"},
      {no:0,name:"渡部遼人"},
      {no:7,name:"西川龍馬"},
      {no:8,name:"麦谷祐介"},
      {no:33,name:"杉澤龍"},
      {no:38,name:"来田涼斗"},
      {no:39,name:"池田陵真"},
      {no:58,name:"窪田洋祐"},
      {no:61,name:"平沼翔太"},
      {no:99,name:"杉本裕太郎"},
    ],
    iku_pitchers: [
      {no:2,name:"マシュー"},
      {no:4,name:"渡邉一生"},
      {no:17,name:"陳睦衡"},
      {no:41,name:"寿賀弘都"},
      {no:43,name:"宮國凌空"},
      {no:44,name:"芦田丈飛"},
      {no:53,name:"上原堆我"},
      {no:56,name:"乾健斗"},
      {no:120,name:"小木田敦也"},
      {no:121,name:"宇田川優希"},
      {no:123,name:"本田仁海"},
      {no:128,name:"前佑囲斗"},
      {no:129,name:"東山玲士"},
      {no:135,name:"河内康介"},
    ],
    iku_batters: [
      {no:34,name:"村上喬一朗"},
      {no:55,name:"田島光祐"},
      {no:3,name:"中西創大"},
      {no:45,name:"河野聡太"},
      {no:51,name:"今坂幸暉"},
      {no:52,name:"清水武蔵"},
      {no:122,name:"大里昂生"},
      {no:124,name:"遠藤成"},
      {no:126,name:"香月一也"},
      {no:153,name:"宜保翔"},
      {no:1,name:"三方陽登"},
      {no:54,name:"寺本聖一"},
      {no:127,name:"元謙太"},
    ],
  },
  "楽天": { // 80名
    pitchers: [
      {no:11,name:"岸孝之"},
      {no:13,name:"藤原聡大"},
      {no:15,name:"Ｒ．コントレラス"},
      {no:17,name:"古謝樹"},
      {no:18,name:"前田健太"},
      {no:19,name:"荘司康誠"},
      {no:20,name:"伊藤樹"},
      {no:21,name:"早川隆久"},
      {no:22,name:"Ｊ．ウレーニャ"},
      {no:26,name:"中込陽翔"},
      {no:28,name:"酒居知史"},
      {no:29,name:"田中千晴"},
      {no:31,name:"渡辺翔太"},
      {no:40,name:"江原雅裕"},
      {no:41,name:"加治屋蓮"},
      {no:43,name:"宋家豪"},
      {no:45,name:"九谷瑠"},
      {no:46,name:"藤平尚真"},
      {no:47,name:"藤井聖"},
      {no:49,name:"西垣雅矢"},
      {no:52,name:"津留﨑大成"},
      {no:53,name:"坂井陽翔"},
      {no:54,name:"日當直喜"},
      {no:56,name:"鈴木翔天"},
      {no:57,name:"瀧中瞭太"},
      {no:58,name:"辛島航"},
      {no:59,name:"泰勝利"},
      {no:61,name:"古賀康誠"},
      {no:62,name:"西口直人"},
      {no:64,name:"林優樹"},
      {no:66,name:"今野龍太"},
      {no:67,name:"大内誠弥"},
      {no:69,name:"内星龍"},
      {no:71,name:"柴田大地"},
      {no:79,name:"伊藤大晟"},
    ],
    batters: [
      {no:2,name:"太田光"},
      {no:27,name:"伊藤光"},
      {no:44,name:"田中貴也"},
      {no:55,name:"YG安田"},
      {no:65,name:"堀内謙伍"},
      {no:70,name:"石原彪"},
      {no:72,name:"大栄利哉"},
      {no:0,name:"小深田大翔"},
      {no:1,name:"宗山塁"},
      {no:3,name:"浅村栄斗"},
      {no:6,name:"村林一輝"},
      {no:7,name:"鈴木大地"},
      {no:9,name:"Ｌ．ボイト"},
      {no:24,name:"黒川史陽"},
      {no:30,name:"繁永晟"},
      {no:35,name:"渡邊佳明"},
      {no:39,name:"伊藤裕季也"},
      {no:48,name:"平良竜哉"},
      {no:60,name:"ワォーターズ"},
      {no:63,name:"入江大樹"},
      {no:68,name:"青野拓海"},
      {no:73,name:"小森航大郎"},
      {no:75,name:"陽柏翔"},
      {no:8,name:"辰己涼介"},
      {no:12,name:"Ｏ．ゴンザレス"},
      {no:25,name:"田中和基"},
      {no:32,name:"中島大輔"},
      {no:34,name:"Ｃ．マッカスカー"},
      {no:36,name:"吉納翼"},
      {no:38,name:"佐藤直樹"},
      {no:42,name:"阪上翔也"},
      {no:50,name:"武藤敦貴"},
      {no:51,name:"小郷裕哉"},
      {no:78,name:"吉野創士"},
    ],
    iku_pitchers: [
      {no:29,name:"德山一翔"},
      {no:61,name:"松田啄磨"},
      {no:133,name:"中沢匠磨"},
      {no:197,name:"蕭齊"},
    ],
    iku_batters: [
      {no:22,name:"水上桂"},
      {no:122,name:"島原大河"},
      {no:132,name:"岸本佑也"},
      {no:134,name:"金子京介"},
      {no:79,name:"前田銀治"},
      {no:126,name:"幌村黛汰"},
      {no:129,name:"大坪梓恩"},
    ],
  },
  "西武": { // 100名
    pitchers: [
      {no:11,name:"上田大河"},
      {no:12,name:"渡邉勇太朗"},
      {no:13,name:"髙橋光成"},
      {no:15,name:"與座海人"},
      {no:16,name:"隅田知一郎"},
      {no:17,name:"松本航"},
      {no:19,name:"佐藤隼輔"},
      {no:20,name:"岩城颯空"},
      {no:21,name:"武内夏暉"},
      {no:23,name:"糸川亮太"},
      {no:29,name:"青山美夏人"},
      {no:30,name:"Ａ．ワイナンス"},
      {no:34,name:"甲斐野央"},
      {no:36,name:"山田陽翔"},
      {no:40,name:"堀越啓太"},
      {no:41,name:"成田晴風"},
      {no:42,name:"ボー・タカハシ"},
      {no:43,name:"羽田慎之介"},
      {no:45,name:"Ｔ．ウィンゲンター"},
      {no:46,name:"狩生聖真"},
      {no:47,name:"杉山遙希"},
      {no:52,name:"篠原響"},
      {no:54,name:"黒木優太"},
      {no:56,name:"Ｅ．ラミレス"},
      {no:57,name:"黒田将矢"},
      {no:58,name:"中村祐太"},
      {no:61,name:"平良海馬"},
      {no:70,name:"豆田泰志"},
      {no:71,name:"菅井信也"},
      {no:90,name:"浜屋将太"},
    ],
    batters: [
      {no:10,name:"小島大河"},
      {no:22,name:"古賀悠斗"},
      {no:27,name:"炭谷銀仁朗"},
      {no:37,name:"柘植世那"},
      {no:53,name:"牧野翔矢"},
      {no:64,name:"龍山暖"},
      {no:0,name:"児玉亮涼"},
      {no:2,name:"齋藤大翔"},
      {no:4,name:"石井一成"},
      {no:5,name:"外崎修汰"},
      {no:6,name:"源田壮亮"},
      {no:26,name:"Ｔ．ネビン"},
      {no:32,name:"山村崇嘉"},
      {no:38,name:"佐藤太陽"},
      {no:39,name:"平沢大河"},
      {no:50,name:"髙松渡"},
      {no:59,name:"横田蒼和"},
      {no:60,name:"中村剛也"},
      {no:62,name:"滝澤夏央"},
      {no:99,name:"村田怜音"},
      {no:1,name:"栗山巧"},
      {no:7,name:"桑原将志"},
      {no:8,name:"渡部聖弥"},
      {no:9,name:"蛭間拓哉"},
      {no:25,name:"Ａ．カナリオ"},
      {no:31,name:"茶野篤政"},
      {no:33,name:"古川雄大"},
      {no:35,name:"秋山俊"},
      {no:44,name:"林冠臣"},
      {no:51,name:"西川愛也"},
      {no:55,name:"仲三優太"},
      {no:63,name:"長谷川信哉"},
      {no:66,name:"川田悠慎"},
      {no:68,name:"岸潤一郎"},
      {no:73,name:"林安可"},
    ],
    iku_pitchers: [
      {no:114,name:"上間永遠"},
      {no:115,name:"佐々木健"},
      {no:117,name:"宮澤太成"},
      {no:118,name:"斎藤佳紳"},
      {no:121,name:"三浦大輝"},
      {no:123,name:"冨士大和"},
      {no:124,name:"濱岡蒼太"},
      {no:125,name:"シンクレア"},
      {no:127,name:"森脇亮介"},
      {no:128,name:"平口寛人"},
      {no:129,name:"川下将勲"},
      {no:131,name:"木瀬翔太"},
      {no:133,name:"佐藤爽"},
      {no:134,name:"正木悠馬"},
      {no:136,name:"高橋礼"},
      {no:141,name:"ムサ"},
      {no:142,name:"フレッド"},
      {no:144,name:"Ｊ．ゴンザレス"},
      {no:145,name:"Ｒ．オリバー"},
    ],
    iku_batters: [
      {no:113,name:"野田海人"},
      {no:120,name:"野村大樹"},
      {no:122,name:"是澤涼輔"},
      {no:111,name:"新井唯斗"},
      {no:112,name:"今岡拓夢"},
      {no:119,name:"古賀輝希"},
      {no:126,name:"谷口朝陽"},
      {no:130,name:"金子功児"},
      {no:138,name:"福尾遥真"},
      {no:140,name:"Ｊ．コルニエル"},
      {no:116,name:"奥村光一"},
      {no:132,name:"ラマル"},
      {no:135,name:"安藤銀杜"},
      {no:137,name:"澤田遥斗"},
      {no:139,name:"オケム"},
      {no:143,name:"カルロス"},
    ],
  },
  "ロッテ": { // 87名
    pitchers: [
      {no:11,name:"Ｊ．カスティーヨ"},
      {no:13,name:"毛利海大"},
      {no:14,name:"小島和哉"},
      {no:15,name:"横山陸人"},
      {no:16,name:"種市篤暉"},
      {no:18,name:"石垣元気"},
      {no:19,name:"唐川侑己"},
      {no:21,name:"石川柊太"},
      {no:24,name:"東妻勇輔"},
      {no:28,name:"菊地吏玖"},
      {no:29,name:"西野勇士"},
      {no:30,name:"廣畑敦也"},
      {no:31,name:"大谷輝龍"},
      {no:33,name:"八木彬"},
      {no:34,name:"高野脩汰"},
      {no:35,name:"田中晴也"},
      {no:36,name:"坂本光士郎"},
      {no:37,name:"小野郁"},
      {no:40,name:"奥村頼人"},
      {no:41,name:"一條力真"},
      {no:42,name:"Ａ．ジャクソン"},
      {no:46,name:"冨士隼斗"},
      {no:47,name:"鈴木昭汰"},
      {no:52,name:"益田直也"},
      {no:53,name:"木村優人"},
      {no:54,name:"澤田圭佑"},
      {no:56,name:"中森俊介"},
      {no:58,name:"河村説人"},
      {no:59,name:"早坂響"},
      {no:60,name:"大聖"},
      {no:62,name:"坂井遼"},
      {no:64,name:"廣池康志郎"},
      {no:66,name:"宮﨑颯"},
      {no:73,name:"Ｓ．ロング"},
      {no:91,name:"吉川悠斗"},
    ],
    batters: [
      {no:2,name:"松川虎生"},
      {no:27,name:"田村龍弘"},
      {no:32,name:"佐藤都志也"},
      {no:45,name:"植田将太"},
      {no:65,name:"寺地隆成"},
      {no:69,name:"岡村了樹"},
      {no:0,name:"池田来翔"},
      {no:4,name:"友杉篤輝"},
      {no:5,name:"安田尚憲"},
      {no:7,name:"藤岡裕大"},
      {no:8,name:"中村奨吾"},
      {no:10,name:"上田希由翔"},
      {no:43,name:"石垣勝海"},
      {no:44,name:"宮崎竜成"},
      {no:49,name:"立松由宇"},
      {no:55,name:"櫻井ユウヤ"},
      {no:57,name:"小川龍成"},
      {no:67,name:"茶谷健太"},
      {no:99,name:"Ｎ．ソト"},
      {no:0,name:"髙部瑛斗"},
      {no:1,name:"藤原恭大"},
      {no:3,name:"角中勝也"},
      {no:6,name:"西川史礁"},
      {no:22,name:"Ｇ．ポランコ"},
      {no:23,name:"石川慎吾"},
      {no:25,name:"岡大海"},
      {no:39,name:"井上広大"},
      {no:50,name:"愛斗"},
      {no:51,name:"山口航輝"},
      {no:61,name:"山本大斗"},
      {no:63,name:"和田康士朗"},
    ],
    iku_pitchers: [
      {no:121,name:"本前郁也"},
      {no:122,name:"森遼大朗"},
      {no:123,name:"秋山正雲"},
      {no:124,name:"中村亮太"},
      {no:125,name:"永島田輝斗"},
      {no:126,name:"中山優人"},
      {no:127,name:"髙橋快秀"},
      {no:131,name:"茨木佑太"},
      {no:132,name:"長島幸佑"},
      {no:133,name:"武内涼太"},
      {no:139,name:"Ｃ．ラドニー"},
    ],
    iku_batters: [
      {no:137,name:"富山紘之進"},
      {no:120,name:"金田優太"},
      {no:129,name:"勝又琉偉"},
      {no:130,name:"谷村剛"},
      {no:134,name:"松石信八"},
      {no:138,name:"山﨑剛"},
      {no:128,name:"杉山諒"},
      {no:135,name:"髙野光海"},
      {no:136,name:"藤田和樹"},
      {no:140,name:"Ｓ．アセベド"},
    ],
  },
};

</script>
<script>
const pitchTypes1=['ストレート','シュート','カーブ','スライダー','カット'];
const pitchTypes2=['シンカー','チェンジアップ','フォーク','特殊球'];
const resultList1=['見逃し','空振り','ファウル','ヒット','二塁打','三塁打','HR','四球','死球','エラー'];
const resultList2=['三振','ゴロ','フライ','ライナー','併殺','犠打','犠飛'];
const atBatEnd=['ゴロ','フライ','ライナー','ヒット','二塁打','三塁打','HR','四球','死球','犠打','犠飛','エラー','三振','併殺'];
const outRes=['三振','ゴロ','フライ','ライナー','併殺','犠打','犠飛'];
const ptColorMap={'ストレート':'pt-c-str','シュート':'pt-c-shu','カーブ':'pt-c-cur','スライダー':'pt-c-sli','カット':'pt-c-cut','シンカー':'pt-c-sin','チェンジアップ':'pt-c-chg','フォーク':'pt-c-for','特殊球':'pt-c-spc'};
const teamNames=Object.keys(TEAMS_DATA);
let S={pitcher:null,batter:null,pt:null,sb:null,result:null,balls:0,strikes:0,outs:0,log:[],pStats:{},pTeam:'広島',bTeam:'巨人',inning:1};
let editIdx=-1; // -1=通常モード, 0以上=編集中のlog index

function init(){
  document.getElementById('dd').textContent=new Date().toLocaleDateString('ja-JP',{year:'numeric',month:'long',day:'numeric',weekday:'short'});
  const ps=document.getElementById('pitchTeam'),bs=document.getElementById('batTeam');
  teamNames.forEach(t=>{ps.innerHTML+=`<option value="${t}"${t==='広島'?' selected':''}>${t}</option>`;bs.innerHTML+=`<option value="${t}"${t==='巨人'?' selected':''}>${t}</option>`});
  // イニング選択 1回〜12回
  const iSel=document.getElementById('inningSel');
  for(let i=1;i<=12;i++) iSel.innerHTML+=`<option value="${i}">${i}回</option>`;
  loadPlayers();rPT();rRS();updCnt();
}

function onTeamChange(type){
  if(type==='p'){S.pTeam=document.getElementById('pitchTeam').value;S.pitcher=null;document.getElementById('cP').textContent='—'}
  else{S.bTeam=document.getElementById('batTeam').value;S.batter=null;document.getElementById('cB').textContent='—'}
  loadPlayers();
}

function onInningChange(){
  S.inning=parseInt(document.getElementById('inningSel').value);
}

function loadPlayers(){
  const pt=TEAMS_DATA[S.pTeam],bt=TEAMS_DATA[S.bTeam];
  document.getElementById('pLabel').textContent=`⚾ 投手（${S.pTeam}・支配下）`;
  document.getElementById('piLabel').textContent=`⚾ 投手（${S.pTeam}・育成）`;
  document.getElementById('bLabel').textContent=`🏏 打者（${S.bTeam}・支配下）`;
  document.getElementById('biLabel').textContent=`🏏 打者（${S.bTeam}・育成）`;
  rGrid('pG',pt.pitchers,'p',false);rGrid('pGi',pt.iku_pitchers||[],'p',true);
  rGrid('bG',bt.batters,'b',false);rGrid('bGi',bt.iku_batters||[],'b',true);
  if(S.pitcher)document.querySelectorAll('.pb[data-t="p"]').forEach(b=>{if(b.dataset.n===S.pitcher)b.classList.add('sel')});
  if(S.batter)document.querySelectorAll('.pb[data-t="b"]').forEach(b=>{if(b.dataset.n===S.batter)b.classList.add('sel')});
}

function rGrid(id,arr,t,iku){document.getElementById(id).innerHTML=arr.map(p=>`<div class="pb${iku?' iku':''}" data-t="${t}" data-n="${p.name}" onclick="selP('${t}','${p.name}',this)"><span class="n">${p.no}</span>${p.name}</div>`).join('')}
function rPT(){document.getElementById('ptG1').innerHTML=pitchTypes1.map(t=>`<div class="pt-b ${ptColorMap[t]||''}" onclick="selPT('${t}',this)">${t}</div>`).join('');document.getElementById('ptG2').innerHTML=pitchTypes2.map(t=>`<div class="pt-b ${ptColorMap[t]||''}" onclick="selPT('${t}',this)">${t}</div>`).join('')}
function rRS(){document.getElementById('rsG1').innerHTML=resultList1.map(r=>`<div class="rs-b" onclick="selRS('${r}',this)">${r}</div>`).join('');document.getElementById('rsG2').innerHTML=resultList2.map(r=>`<div class="rs-b rs-out" onclick="selRS('${r}',this)">${r}</div>`).join('')}

function selP(t,n,el){
  document.querySelectorAll(`.pb[data-t="${t}"]`).forEach(b=>b.classList.remove('sel'));
  el.classList.add('sel');
  if(t==='p'){
    // 編集モード中は投手変更不可
    if(editIdx>=0) return;
    S.pitcher=n;document.getElementById('cP').textContent=n;updMx();updPC();updSP();
  } else {
    if(editIdx>=0){
      // 編集モード中: 打者変更をプレビュー
      S.batter=n;document.getElementById('cB').textContent=n;
    } else {
      S.batter=n;document.getElementById('cB').textContent=n;
    }
  }
}

function selSB(el){document.querySelectorAll('.bso-b').forEach(b=>b.classList.remove('sel'));el.classList.add('sel');S.sb=el.dataset.sb;
  if(editIdx>=0) return; // 編集モードでは自動記録しない
}
let spdBuf='';
function spdTap(n){if(spdBuf.length>=2)spdBuf='';spdBuf+=n;updSpdShow()}
function spdClear(){spdBuf='';updSpdShow()}
function updSpdShow(){const el=document.getElementById('spdShow');if(spdBuf.length===2)el.textContent='1'+spdBuf+' km';else if(spdBuf.length===1)el.textContent='1'+spdBuf+'_ km';else el.textContent='— km'}
function getSpd(){if(spdBuf.length<2)return null;return parseInt('1'+spdBuf)}
function selPT(t,el){document.querySelectorAll('#ptG1 .pt-b,#ptG2 .pt-b').forEach(b=>b.classList.remove('sel'));el.classList.add('sel');S.pt=t}

function selRS(r,el){
  document.querySelectorAll('#rsG1 .rs-b,#rsG2 .rs-b').forEach(b=>b.classList.remove('sel'));
  el.classList.add('sel');S.result=r;
  if(r==='四球'||r==='死球')autoSB('ボール');
  else if(r==='ファウル')autoSB('ファウル');
  else autoSB('ストライク');
  if(editIdx>=0) return; // 編集モード中は自動記録しない
  setTimeout(()=>rec(),80);
}

function autoSB(sb){document.querySelectorAll('.bso-b').forEach(b=>{b.classList.toggle('sel',b.dataset.sb===sb)});S.sb=sb}

function rec(){
  if(editIdx>=0) return; // 編集モード中は新規記録しない
  if(!S.pitcher||!S.batter){flash('投手と打者を選択');return}
  if(!S.sb){flash('S/Bを選択');return}
  const speed=getSpd();const pn=S.pitcher;
  if(!S.pStats[pn])S.pStats[pn]={cnt:0,mx:0,sCnt:0,pitches:[]};
  S.pStats[pn].cnt++;
  if(speed&&speed>S.pStats[pn].mx)S.pStats[pn].mx=speed;
  if(S.sb==='ストライク'||S.sb==='ファウル')S.pStats[pn].sCnt++;
  const num=S.pStats[pn].cnt;
  let pB=S.balls,pS=S.strikes,pO=S.outs;
  if(S.sb==='ストライク')S.strikes=Math.min(S.strikes+1,3);
  else if(S.sb==='ボール')S.balls=Math.min(S.balls+1,4);
  else if(S.sb==='ファウル'&&S.strikes<2)S.strikes++;
  const e={pitcher:pn,batter:S.batter,num,speed:speed||null,pt:S.pt||'—',sb:S.sb,result:S.result||'—',
    balls:S.balls,strikes:S.strikes,outs:S.outs,pB,pS,pO,inning:S.inning,
    ts:new Date().toLocaleTimeString('ja-JP',{hour:'2-digit',minute:'2-digit',second:'2-digit'})};
  const isEnd=S.result&&atBatEnd.includes(S.result);
  if(isEnd){
    if(outRes.includes(S.result)){S.outs=S.result==='併殺'?Math.min(S.outs+2,3):Math.min(S.outs+1,3);e.outs=S.outs}
    S.balls=0;S.strikes=0;
  }
  S.pStats[pn].pitches.push(e);S.log.push(e);addLog(e,isEnd);
  updCnt();updMx();updPC();updSP();
  spdBuf='';document.getElementById('spdShow').textContent='— km';
  document.querySelectorAll('#ptG1 .pt-b,#ptG2 .pt-b,.bso-b,#rsG1 .rs-b,#rsG2 .rs-b').forEach(b=>b.classList.remove('sel'));
  S.pt=null;S.sb=null;S.result=null;
  document.getElementById('undoBtn').disabled=false;
}

function flash(m){const b=document.getElementById('recBtn'),o=b.textContent;b.textContent=m;b.style.background='#555';setTimeout(()=>{b.textContent=o;b.style.background=''},1000)}

function addLog(e,isEnd){
  const l=document.getElementById('logL');const logIdx=S.log.length-1;
  const wrap=document.createElement('div');wrap.className='le-wrap';wrap.dataset.logIdx=logIdx;
  const del=document.createElement('div');del.className='le-del';del.innerHTML='🗑';
  del.onclick=function(){deleteLog(parseInt(wrap.dataset.logIdx))};
  const d=document.createElement('div');
  let c='le le-new',sc='r';
  if(e.sb==='ストライク'){c+=' se';sc='s'}else if(e.sb==='ボール'){c+=' be';sc='b'}else if(e.sb==='ファウル'){c+=' fe';sc='f'}
  if(isEnd)c+=' re';
  const cnt=`${e.pB}-${e.pS}`,spd=e.speed?e.speed:'—',pt=e.pt!=='—'?e.pt:'',rs=e.result!=='—'?' '+e.result:'';
  const innTxt=e.inning?e.inning+'回':'';
  d.className=c;
  d.innerHTML=`<div class="le-n">${e.num}</div><div class="le-s">${spd}</div><div class="le-d"><div class="le-pt">${pt}${rs}</div><div class="le-bt">${innTxt} vs${e.batter} [${cnt}]</div></div><div class="le-sb ${sc}">${e.sb==='ストライク'?'S':e.sb==='ボール'?'B':'F'}</div>`;
  // タップで編集モードに入る
  d.addEventListener('click',function(ev){
    if(d.classList.contains('swiped'))return; // スワイプ中はスキップ
    const idx=parseInt(wrap.dataset.logIdx);
    startEdit(idx);
  });
  initSwipe(d);
  wrap.appendChild(del);wrap.appendChild(d);l.insertBefore(wrap,l.firstChild);
}

function initSwipe(el){let startX=0,curX=0,swiping=false,moved=false;el.addEventListener('touchstart',function(ev){document.querySelectorAll('.le.swiped').forEach(s=>{if(s!==el)s.classList.remove('swiped')});startX=ev.touches[0].clientX;curX=startX;swiping=true;moved=false;el.style.transition='none'},{passive:true});el.addEventListener('touchmove',function(ev){if(!swiping)return;curX=ev.touches[0].clientX;let dx=curX-startX;if(Math.abs(dx)>5)moved=true;if(dx>0)dx=0;if(dx<-70)dx=-70;el.style.transform='translateX('+dx+'px)'},{passive:true});el.addEventListener('touchend',function(){swiping=false;el.style.transition='transform .2s ease';const dx=curX-startX;if(dx<-35){el.classList.add('swiped');el.style.transform=''}else{el.classList.remove('swiped');el.style.transform=''}});el.addEventListener('click',function(ev){if(moved){ev.stopPropagation();moved=false}})}

// ===== 編集モード =====
function startEdit(logIdx){
  const e=S.log[logIdx];
  if(!e) return;
  editIdx=logIdx;
  // バナー表示
  const banner=document.getElementById('editBanner');
  banner.classList.add('show');
  document.getElementById('editBannerTxt').textContent=`✏️ 編集中：${e.pitcher} #${e.num} vs ${e.batter}`;
  // ログアイテムをハイライト
  document.querySelectorAll('.le').forEach(l=>l.classList.remove('editing'));
  const wraps=document.querySelectorAll('.le-wrap');
  wraps.forEach(w=>{
    if(parseInt(w.dataset.logIdx)===logIdx){
      w.querySelector('.le').classList.add('editing');
    }
  });
  // 入力UIにエントリの値をセット
  // 打者を選択状態に
  S.batter=e.batter;
  document.getElementById('cB').textContent=e.batter;
  document.querySelectorAll('.pb[data-t="b"]').forEach(b=>{
    b.classList.toggle('sel',b.dataset.n===e.batter);
  });
  // 球速
  if(e.speed){
    spdBuf=String(e.speed).slice(1); // 1XXからXXを取り出す
    updSpdShow();
  } else {
    spdBuf='';updSpdShow();
  }
  // 球種
  document.querySelectorAll('#ptG1 .pt-b,#ptG2 .pt-b').forEach(b=>{
    b.classList.toggle('sel',b.textContent===e.pt);
  });
  S.pt=e.pt!=='—'?e.pt:null;
  // S/B
  document.querySelectorAll('.bso-b').forEach(b=>{
    b.classList.toggle('sel',b.dataset.sb===e.sb);
  });
  S.sb=e.sb;
  // 結果
  document.querySelectorAll('#rsG1 .rs-b,#rsG2 .rs-b').forEach(b=>{
    b.classList.toggle('sel',b.textContent===e.result);
  });
  S.result=e.result!=='—'?e.result:null;
  // 記録ボタンを「保存」に変更
  const recBtn=document.getElementById('recBtn');
  recBtn.textContent='✅ 保存';
  recBtn.onclick=saveEdit;
}

function saveEdit(){
  if(editIdx<0) return;
  const e=S.log[editIdx];
  if(!e) {cancelEdit();return;}
  // 変更を適用
  const newPt=S.pt||'—';
  const newSb=S.sb||e.sb;
  const newResult=S.result||'—';
  const newSpeed=getSpd();
  const newBatter=S.batter||e.batter;
  e.pt=newPt;
  e.sb=newSb;
  e.result=newResult;
  if(newSpeed) e.speed=newSpeed;
  e.batter=newBatter;
  // pStats再計算
  rebuildPStats();
  // ログUI再構築
  rebuildLog();
  // 編集モード終了
  cancelEdit();
  // カウンター更新
  updMx();updPC();updSP();
}

function cancelEdit(){
  editIdx=-1;
  document.getElementById('editBanner').classList.remove('show');
  document.querySelectorAll('.le').forEach(l=>l.classList.remove('editing'));
  // 記録ボタンを元に戻す
  const recBtn=document.getElementById('recBtn');
  recBtn.textContent='記録';
  recBtn.onclick=rec;
  // 入力UIクリア
  spdBuf='';updSpdShow();
  document.querySelectorAll('#ptG1 .pt-b,#ptG2 .pt-b,.bso-b,#rsG1 .rs-b,#rsG2 .rs-b').forEach(b=>b.classList.remove('sel'));
  S.pt=null;S.sb=null;S.result=null;
}

function rebuildPStats(){
  S.pStats={};
  S.log.forEach(e=>{
    const pn=e.pitcher;
    if(!S.pStats[pn])S.pStats[pn]={cnt:0,mx:0,sCnt:0,pitches:[]};
    S.pStats[pn].cnt++;
    if(e.speed&&e.speed>S.pStats[pn].mx)S.pStats[pn].mx=e.speed;
    if(e.sb==='ストライク'||e.sb==='ファウル')S.pStats[pn].sCnt++;
    e.num=S.pStats[pn].cnt;
    S.pStats[pn].pitches.push(e);
  });
}

function deleteLog(logIdx){
  const entry=S.log[logIdx];if(!entry)return;
  S.log.splice(logIdx,1);
  rebuildPStats();rebuildLog();
  if(S.log.length>0){
    const last=S.log[S.log.length-1];
    S.balls=last.balls;S.strikes=last.strikes;S.outs=last.outs;
    if(last.result!=='—'&&atBatEnd.includes(last.result)){S.balls=0;S.strikes=0}
  }else{S.balls=0;S.strikes=0;S.outs=0}
  updCnt();updMx();updPC();updSP();
  document.getElementById('undoBtn').disabled=!S.log.length;
}

function rebuildLog(){
  const l=document.getElementById('logL');l.innerHTML='';
  for(let i=S.log.length-1;i>=0;i--){
    const e=S.log[i];
    const isEnd=e.result!=='—'&&atBatEnd.includes(e.result);
    const wrap=document.createElement('div');wrap.className='le-wrap';wrap.dataset.logIdx=i;
    const del=document.createElement('div');del.className='le-del';del.innerHTML='🗑';
    del.onclick=(function(idx){return function(){deleteLog(idx)}})(i);
    const d=document.createElement('div');
    let c='le',sc='r';
    if(e.sb==='ストライク'){c+=' se';sc='s'}else if(e.sb==='ボール'){c+=' be';sc='b'}else if(e.sb==='ファウル'){c+=' fe';sc='f'}
    if(isEnd)c+=' re';
    const cnt=`${e.pB}-${e.pS}`,spd=e.speed?e.speed:'—',pt=e.pt!=='—'?e.pt:'',rs=e.result!=='—'?' '+e.result:'';
    const innTxt=e.inning?e.inning+'回':'';
    d.className=c;
    d.innerHTML=`<div class="le-n">${e.num}</div><div class="le-s">${spd}</div><div class="le-d"><div class="le-pt">${pt}${rs}</div><div class="le-bt">${innTxt} vs${e.batter} [${cnt}]</div></div><div class="le-sb ${sc}">${e.sb==='ストライク'?'S':e.sb==='ボール'?'B':'F'}</div>`;
    // タップで編集
    (function(idx){
      d.addEventListener('click',function(ev){
        if(d.classList.contains('swiped'))return;
        startEdit(idx);
      });
    })(i);
    initSwipe(d);
    wrap.appendChild(del);wrap.appendChild(d);l.appendChild(wrap);
  }
}

function undo(){
  if(editIdx>=0) return;
  if(!S.log.length)return;
  const last=S.log.pop();
  S.balls=last.pB;S.strikes=last.pS;S.outs=last.pO;
  rebuildPStats();
  const l=document.getElementById('logL');if(l.firstChild)l.removeChild(l.firstChild);
  updCnt();updMx();updPC();updSP();
  if(!S.log.length)document.getElementById('undoBtn').disabled=true;
}

function updCnt(){const bd=document.getElementById('bD').children,sd=document.getElementById('sD').children,od=document.getElementById('oD').children;for(let i=0;i<4;i++)bd[i].className='dot'+(i<S.balls?' ba':'');for(let i=0;i<3;i++)sd[i].className='dot'+(i<S.strikes?' sa':'');for(let i=0;i<3;i++)od[i].className='dot'+(i<S.outs?' oa':'')}
function updMx(){const el=document.getElementById('mxS');if(S.pitcher&&S.pStats[S.pitcher]){const m=S.pStats[S.pitcher].mx;el.textContent=m>0?m+'':'—'}else el.textContent='—'}
function updPC(){const el=document.getElementById('pCnt');if(S.pitcher&&S.pStats[S.pitcher])el.textContent=S.pStats[S.pitcher].cnt;else el.textContent='0'}
function updSP(){const el=document.getElementById('spR');if(S.pitcher&&S.pStats[S.pitcher]){const ps=S.pStats[S.pitcher];if(ps.cnt>0)el.textContent=Math.round(ps.sCnt/ps.cnt*100)+'%';else el.textContent='—'}else el.textContent='—'}

function showSum(){
  const a=document.getElementById('sumA');if(a.innerHTML){a.innerHTML='';return}
  let h='';
  for(const[n,s]of Object.entries(S.pStats)){
    if(!s.cnt)continue;
    const types={};s.pitches.forEach(p=>{if(p.pt!=='—')types[p.pt]=(types[p.pt]||0)+1});
    const ts=Object.entries(types).map(([t,c])=>`${t}:${c}`).join(' ');
    const sr=s.cnt>0?Math.round(s.sCnt/s.cnt*100):0;
    h+=`<div class="ps"><div class="ps-n">${n}</div><div class="ps-s"><div><span>球数:</span><strong>${s.cnt}</strong></div><div><span>最速:</span><strong>${s.mx>0?s.mx+'km':'—'}</strong></div><div><span>S%:</span><strong>${sr}%</strong></div></div>${ts?`<div class="ps-t">${ts}</div>`:''}</div>`;
  }
  if(!h)h='<div style="text-align:center;color:#888;padding:10px;font-size:11px">まだ記録がありません</div>';
  a.innerHTML=h;
}

function showOutput(){
  if(!S.log.length){alert('まだ記録がありません');return}
  let txt='';
  // イニング別→投手別→打者別にグループ化
  const innings={};
  S.log.forEach(e=>{
    const inn=e.inning||1;
    if(!innings[inn])innings[inn]=[];
    innings[inn].push(e);
  });
  const sortedInnings=Object.keys(innings).map(Number).sort((a,b)=>a-b);

  sortedInnings.forEach(inn=>{
    const innPitches=innings[inn];
    const innMx=innPitches.reduce((m,p)=>Math.max(m,p.speed||0),0);
    txt+=`━━━━━━━━━━━━━━━━━━━━\n`;
    txt+=`${inn}回　${innPitches.length}球　MAX${innMx>0?innMx+'km/h':'—'}\n`;
    txt+=`━━━━━━━━━━━━━━━━━━━━\n`;
    // この回の投手別
    const pitcherOrder=[];
    const pitcherData={};
    innPitches.forEach(e=>{
      if(!pitcherData[e.pitcher]){pitcherData[e.pitcher]={pitches:[],batters:{}};pitcherOrder.push(e.pitcher)}
      pitcherData[e.pitcher].pitches.push(e);
      if(!pitcherData[e.pitcher].batters[e.batter])pitcherData[e.pitcher].batters[e.batter]=[];
      pitcherData[e.pitcher].batters[e.batter].push(e);
    });
    pitcherOrder.forEach(pName=>{
      const pd=pitcherData[pName];
      const cnt=pd.pitches.length;
      const mx=pd.pitches.reduce((m,p)=>Math.max(m,p.speed||0),0);
      const sCnt=pd.pitches.filter(p=>p.sb==='ストライク'||p.sb==='ファウル').length;
      const sr=cnt>0?Math.round(sCnt/cnt*100):0;
      const types={};
      pd.pitches.forEach(p=>{if(p.pt!=='—')types[p.pt]=(types[p.pt]||0)+1});
      const typeStr=Object.entries(types).map(([t,c])=>`${t}${c}`).join(' ');
      txt+=`\n  【${pName}】 ${cnt}球  MAX:${mx>0?mx+'km':'—'}  S率:${sr}%\n`;
      if(typeStr)txt+=`  球種: ${typeStr}\n`;
      txt+=`  ────────────────────\n`;
      // 打者別（出現順）
      const batterOrder=[];
      Object.keys(pd.batters).forEach(b=>{if(!batterOrder.includes(b))batterOrder.push(b)});
      batterOrder.forEach(bName=>{
        const bPitches=pd.batters[bName];
        const bCnt=bPitches.length;
        const bMx=bPitches.reduce((m,p)=>Math.max(m,p.speed||0),0);
        const lastPitch=bPitches[bPitches.length-1];
        const finalResult=lastPitch.result!=='—'?lastPitch.result:'';
        txt+=`  vs ${bName}（${bCnt}球${bMx>0?' MAX'+bMx:''}）`;
        if(finalResult)txt+=` → ${finalResult}`;
        txt+=`\n`;
        bPitches.forEach(p=>{
          const spd=p.speed?p.speed+'km':'---';
          const pt=p.pt!=='—'?p.pt:'';
          const sb=p.sb==='ストライク'?'S':p.sb==='ボール'?'B':'F';
          const rs=p.result!=='—'?' →'+p.result:'';
          const cnt=`${p.pB}-${p.pS}`;
          txt+=`    ${p.num}球目 [${cnt}] ${spd} ${pt} ${sb}${rs}\n`;
        });
      });
    });
    txt+=`\n`;
  });

  // 全体サマリー
  txt+=`========================================\n`;
  txt+=`【全体サマリー】\n`;
  txt+=`========================================\n`;
  for(const[n,s]of Object.entries(S.pStats)){
    if(!s.cnt)continue;
    const types={};s.pitches.forEach(p=>{if(p.pt!=='—')types[p.pt]=(types[p.pt]||0)+1});
    const typeStr=Object.entries(types).map(([t,c])=>`${t}${c}`).join(' ');
    const sr=s.cnt>0?Math.round(s.sCnt/s.cnt*100):0;
    txt+=`${n}: ${s.cnt}球 MAX${s.mx>0?s.mx+'km':'—'} S率${sr}%`;
    if(typeStr) txt+=` (${typeStr})`;
    txt+=`\n`;
  }

  document.getElementById('outputContent').textContent=txt;
  document.getElementById('outputModal').classList.add('show');
}

function closeOutput(){document.getElementById('outputModal').classList.remove('show')}
function copyOutput(){const text=document.getElementById('outputContent').textContent;if(navigator.clipboard){navigator.clipboard.writeText(text).then(()=>{const btn=document.querySelector('.copy-btn');btn.textContent='✅ コピーしました';setTimeout(()=>{btn.textContent='📋 コピー'},1500)})}else{const ta=document.createElement('textarea');ta.value=text;document.body.appendChild(ta);ta.select();document.execCommand('copy');document.body.removeChild(ta);const btn=document.querySelector('.copy-btn');btn.textContent='✅ コピーしました';setTimeout(()=>{btn.textContent='📋 コピー'},1500)}}
init();
</script>
